/* eslint-disable n/no-missing-import */
import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';
/* eslint-enable n/no-missing-import */
import { createRequire } from 'node:module';
import { registerAllTools } from './tools/index.js';
// https://github.com/nodejs/node/issues/51347#issuecomment-2111337854
const packageInfo = createRequire(import.meta.url)('../package.json');
const SERVER_NAME = 'mediawiki-mcp-server';
const SERVER_VERSION = packageInfo.version;
export const createServer = () => {
    const server = new McpServer({
        name: SERVER_NAME,
        version: SERVER_VERSION
    });
    registerAllTools(server);
    return server;
};
export const USER_AGENT = `${SERVER_NAME}/${SERVER_VERSION}`;
